# Unityæ‹…å½“è€…å‘ã‘å¼•ãç¶™ãè³‡æ–™

## ğŸ¯ ã‚ãªãŸãŒã‚„ã‚‹ã“ã¨

### 1. é‡è¦ï¼šNavMeshè¨­å®š
- **Window > AI > Navigation** ã§Navigation Windowã‚’é–‹ã
- åœ°é¢ã‚’é¸æŠã—ã¦ã€ŒNavigation Staticã€ã«ãƒã‚§ãƒƒã‚¯
- **Bake**ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦NavMeshã‚’æ§‹ç¯‰
- éšœå®³ç‰©ï¼ˆå±‹å°ç­‰ï¼‰ã‚‚ã€ŒNavigation Staticã€ã§æ­©è¡Œä¸å¯ã‚¨ãƒªã‚¢ã‚’è¨­å®š

### 2. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚²ãƒ¼ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«è²¼ã‚Šä»˜ã‘
- `Unity/Scripts/` å†…ã®`.cs`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…¨éƒ¨ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é©åˆ‡ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¢ã‚¿ãƒƒãƒ

### 3. å¿…è¦ãªã‚²ãƒ¼ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ
```
Hierarchy:
â”œâ”€â”€ GameManager (ç©ºã®GameObject)
â”‚   â””â”€â”€ GameManager.cs
â”œâ”€â”€ ServerConnection (ç©ºã®GameObject)  
â”‚   â””â”€â”€ ServerConnection.cs
â”œâ”€â”€ DialogManager (ç©ºã®GameObject)
â”‚   â””â”€â”€ DialogManager.cs
â”œâ”€â”€ FestivalWaypointManager (ç©ºã®GameObject)
â”‚   â””â”€â”€ FestivalWaypointManager.cs
â”œâ”€â”€ FestivalGround (Planeç­‰) â˜…Navigation Static
â”œâ”€â”€ FestivalStalls/ (å±‹å°ç­‰ã®éšœå®³ç‰©) â˜…Navigation Static
â”œâ”€â”€ Characters/
â”‚   â”œâ”€â”€ Character_Alpha
â”‚   â”‚   â”œâ”€â”€ 3Dãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ NavMeshAgent (è‡ªå‹•è¿½åŠ )
â”‚   â”‚   â””â”€â”€ AdvancedCharacterController.cs â˜…æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ Character_Beta  
â”‚   â”‚   â””â”€â”€ (åŒä¸Š)
â”‚   â””â”€â”€ Character_Gamma
â”‚       â””â”€â”€ (åŒä¸Š)
â””â”€â”€ UI/
    â”œâ”€â”€ Canvas
    â””â”€â”€ SpeechBubblePrefab
```

### 4. å„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®Inspectorè¨­å®š
`AdvancedCharacterController.cs`ã§ï¼š
- Character Id: "alpha", "beta", "gamma"
- Character Name: "ã‚¢ãƒ«ãƒ•ã‚¡", "ãƒ™ãƒ¼ã‚¿", "ã‚¬ãƒ³ãƒ"  
- Base Walk Speed: 3.5
- Personal Space Radius: 1.5 (ä»–ã‚­ãƒ£ãƒ©ã¨ã®æœ€ä½è·é›¢)
- Conversation Radius: 2.5 (ä¼šè©±é–‹å§‹è·é›¢)
- Character Layer: Characters ãƒ¬ã‚¤ãƒ¤ãƒ¼ä½œæˆæ¨å¥¨

### 5. FestivalWaypointManagerã®è¨­å®š
- Festival Center: ä¼šå ´ã®ä¸­å¿ƒç‚¹ã‚’æŒ‡å®š
- Festival Radius: 20 (ä¼šå ´ã‚µã‚¤ã‚º)
- Waypoint Count: 9 (ãŠç¥­ã‚Šã‚¨ãƒªã‚¢æ•°)
- Auto Create Waypoints: âœ“ (è‡ªå‹•ç”Ÿæˆ)

### 6. NavMeshè¨­å®šè©³ç´°
- **Agent Radius**: 0.5 (ã‚­ãƒ£ãƒ©ã‚µã‚¤ã‚º)
- **Agent Height**: 2.0 (ã‚­ãƒ£ãƒ©ã®é«˜ã•)  
- **Max Slope**: 45 (ç™»ã‚Œã‚‹å‚ã®è§’åº¦)
- **Step Height**: 0.4 (æ®µå·®ã®é«˜ã•)

### 4. UIè¨­å®š
- Canvasä½œæˆ
- SpeechBubbleç”¨ã®ãƒ—ãƒ¬ãƒãƒ–ä½œæˆï¼ˆTextMeshProUGUIä½¿ç”¨æ¨å¥¨ï¼‰

## ğŸš¨ é‡è¦ãªè¨­å®š

### ã‚µãƒ¼ãƒãƒ¼æ¥ç¶šè¨­å®š
`ServerConnection.cs`ã®ï¼š
- Server Url: "http://localhost:5000"

### å‹•ä½œç¢ºèª
1. PlayæŠ¼ã™å‰ã«Pythonã‚µãƒ¼ãƒãƒ¼èµ·å‹•: `python server/app.py`
2. Unity Playãƒœã‚¿ãƒ³
3. F1, F2, F3ã‚­ãƒ¼ã§ãƒ‡ãƒãƒƒã‚°

## ğŸ“‹ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] å…¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ­£å¸¸ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
- [ ] ã‚­ãƒ£ãƒ©ãŒ3ä½“è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚­ãƒ£ãƒ©ãŒæ­©ãå›ã‚‹
- [ ] è¿‘ã¥ãã¨ã‚µãƒ¼ãƒãƒ¼ã«é€šä¿¡ï¼ˆConsoleç¢ºèªï¼‰
- [ ] å¹ãå‡ºã—ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] F1ã§ãƒªã‚»ãƒƒãƒˆãŒåŠ¹ã

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«æ™‚
- Consoleè¦‹ã‚‹
- Pythonã‚µãƒ¼ãƒãƒ¼ã®ãƒ­ã‚°ç¢ºèª: `server/logs/app.log`
- é€šä¿¡ã§ããªã„ â†’ ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ç¢ºèª

## ğŸ¯ ä¼šè©±ãƒˆãƒªã‚¬ãƒ¼ã®ä»•æ§˜

### **è‡ªå‹•ä¼šè©±é–‹å§‹æ¡ä»¶**
1. **è·é›¢**: ã‚­ãƒ£ãƒ©åŒå£«ãŒ2.5mä»¥å†…ã«è¿‘ã¥ã
2. **çŠ¶æ…‹**: ä¸¡æ–¹ã¨ã‚‚ä¼šè©±ä¸­ã§ãªã„
3. **ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³**: å‰å›ã®ä¼šè©±ã‹ã‚‰30ç§’çµŒé
4. **è‡ªå‹•ãƒã‚§ãƒƒã‚¯**: 0.1ç§’ã”ã¨ã«è·é›¢ã‚’ç›£è¦–

### **ä¼šè©±ã®æµã‚Œ**
```
ç§»å‹•ä¸­ â†’ æ¥è¿‘ â†’ ä¼šè©±é–‹å§‹ â†’ 6ã‚¿ãƒ¼ãƒ³ä¼šè©±ï¼ˆç´„18ç§’ï¼‰ â†’ åˆ¥ã‚Œã¦ç§»å‹•
```

### **è¨­å®šå¤‰æ›´æ–¹æ³•**
å„ã‚­ãƒ£ãƒ©ã® `AdvancedCharacterController.cs` ã®Inspectorã§ï¼š
- `Conversation Radius`: ä¼šè©±é–‹å§‹è·é›¢ï¼ˆç¾åœ¨2.5mï¼‰
- `Conversation Cooldown`: å†ä¼šè©±ã¾ã§ã®æ™‚é–“ï¼ˆç¾åœ¨30ç§’ï¼‰

**ğŸ“– è©³ç´°ã¯ã€ä¼šè©±ãƒˆãƒªã‚¬ãƒ¼è¨­å®šã‚¬ã‚¤ãƒ‰.mdã€ã‚’å‚ç…§ã—ã¦ãã ã•ã„**

---
**ã‚µãƒ¼ãƒãƒ¼å´ï¼ˆPythonï¼‰ã¯å®Œç’§ã«å‹•ãã¾ã™ï¼**
Unityå´ã ã‘ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ğŸ™