# 🎪 場所設定ガイド（超簡単！）

## 📋 **新しい場所を追加する方法**

### 1️⃣ **設定ファイルを開く**
`server/config/locations.json` をメモ帳で開く

### 2️⃣ **新しい場所を追加**
```json
{
  "id": "ramen_stand",                    ← 英語のID（重複しないように）
  "display_name": "ラーメン屋台",         ← 日本語の表示名
  "waypoint_keywords": ["Ramen", "ramen", "ラーメン", "麺"],  ← Unityのウェイポイント名に含まれる文字
  "context_description": "ラーメン屋台の前にいます。熱々のスープから湯気が立ち上り、麺をすする音が聞こえます。", ← AIに伝える場所の説明
  "topics": ["ラーメン", "スープ", "麺", "チャーシュー", "アツアツ", "醤油味"],  ← 会話の話題
  "atmosphere": "食欲をそそる",           ← 雰囲気
  "sounds": ["麺をすする音", "お湯の沸く音"],  ← 聞こえる音
  "smells": ["醤油スープの香り", "チャーシューの匂い"]  ← 匂い
}
```

### 3️⃣ **カンマを忘れずに**
既存の場所の後に `,` を付けて新しい場所を追加

## 🎨 **場所の雰囲気を変更する方法**

### **たこ焼き屋台をもっと賑やかに**
```json
{
  "id": "takoyaki_stand",
  "context_description": "たこ焼き屋台の前にいます。ソースの香ばしい匂いが漂い、ジュージューと焼ける音が聞こえます。店主の威勢のいい声と、お客さんの笑い声で大賑わいです。",
  "sounds": ["ジュージューと焼ける音", "店主の威勢のいい声", "お客さんの笑い声", "鉄板を叩く音"],
  "smells": ["ソースの香ばしい匂い", "だしの香り", "青のりの香り"]
}
```

### **金魚すくいをより涼しげに**
```json
{
  "id": "goldfish_scooping", 
  "context_description": "金魚すくいの前にいます。透明な水槽の中で色とりどりの金魚が優雅に泳いでいます。水の音が涼しげで、夏の暑さを忘れさせてくれます。",
  "topics": ["金魚", "涼しい", "水", "夏", "風流", "癒し"],
  "sounds": ["水の音", "風鈴の音", "子供たちの楽しそうな声"]
}
```

## ⏰ **時間や天候の演出**

### **時間帯の設定**
```json
"time_contexts": {
  "afternoon": {
    "description": "午後の暖かい日差しが差しています。",
    "atmosphere_modifier": "明るく活発"
  },
  "evening": {
    "description": "夕方になり、空がオレンジ色に染まって幻想的です。",
    "atmosphere_modifier": "ロマンチック"
  }
}
```

### **天候の設定**
```json
"weather_contexts": {
  "breeze": {
    "description": "涼しい風が吹いて、とても気持ちがいいです。"
  },
  "warm": {
    "description": "少し暖かいですが、お祭りの熱気で楽しい雰囲気です。"
  }
}
```

## 🎯 **実際の使い方例**

### **例1：食べ物屋台を追加**
```json
{
  "id": "yakitori_stand",
  "display_name": "焼き鳥屋台",
  "waypoint_keywords": ["Yakitori", "yakitori", "焼き鳥", "鳥"],
  "context_description": "焼き鳥屋台の前にいます。炭火でじっくり焼かれた鳥肉の香ばしい匂いと、パチパチと燃える炭の音が食欲をそそります。",
  "topics": ["焼き鳥", "炭火", "香ばしい", "タレ", "塩", "ビール"],
  "atmosphere": "食欲をそそる",
  "sounds": ["炭がパチパチと燃える音", "肉が焼ける音"],
  "smells": ["炭火の香り", "焼き鳥のタレの匂い"]
}
```

### **例2：ゲーム系を追加**
```json
{
  "id": "ring_toss",
  "display_name": "輪投げ",
  "waypoint_keywords": ["Ring", "ring", "輪投げ"],
  "context_description": "輪投げのコーナーです。カラフルな景品が並び、輪を投げる音と歓声が聞こえます。",
  "topics": ["輪投げ", "景品", "挑戦", "コツ", "狙う", "当たった"],
  "atmosphere": "集中とワクワク",
  "sounds": ["輪が飛ぶ音", "景品に当たる音", "歓声"],
  "smells": []
}
```

## ⚠️ **注意点**

1. **JSONの文法**：カンマ（,）を忘れずに
2. **文字コード**：UTF-8で保存
3. **重複回避**：idは他と被らないように
4. **キーワード設定**：Unity側のウェイポイント名と一致させる

## 🔧 **設定変更後の反映方法**

### **サーバー再起動**
```bash
# サーバーを停止（Ctrl+C）
cd server
python app.py
```

### **設定確認**
```bash
python -c "
from services.location_service import LocationService
ls = LocationService()
issues = ls.validate_location_config()
if issues:
    for issue in issues: print(f'問題: {issue}')
else:
    print('設定OK!')
    for loc_id, loc in ls.get_all_locations().items():
        print(f'{loc_id}: {loc[\"display_name\"]}')
"
```

## 💡 **よくある設定例**

### **🍜 グルメエリア**
- ラーメン屋台、お好み焼き、焼きそば、かき氷、ビール売り場

### **🎮 ゲームエリア**
- 輪投げ、ヨーヨー釣り、くじ引き、ダーツ

### **🎭 エンターテイメント**
- 太鼓ステージ、踊りコーナー、カラオケブース

### **😌 休憩エリア**
- 縁台、ベンチ、木陰、扇風機コーナー

---

**💡 ヒント：設定を変更したら必ずサーバーを再起動してください！**